name: Label New Issues

on:
  issues:
    types: [opened]
    
jobs:
  label-issues:
    runs-on: ubuntu-latest
    permissions:
      issues: write
      contents: read
      
    steps:
      - name: Checkout repository
        uses: actions/checkout@v6
      - name: Add triage label
        env:
            GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
            ISSUE_NUMBER: ${{ github.event.issue.number }}
            LABEL: "triage"
        run: gh issue edit "$ISSUE_NUMBER" --add-label "$LABEL"
                                                      